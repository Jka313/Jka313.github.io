<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JKA5 | Command Operations Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-color: #020202;
            --panel-bg: rgba(10, 15, 10, 0.85);
            --neon-green: #0f0;
            --neon-blue: #00f3ff;
            --neon-red: #ff003c;
            --text-dim: #008f11;
            --border-color: #333;
            --font-ui: 'Share Tech Mono', monospace;
            --font-code: 'Fira Code', monospace;
        }

        * { box-sizing: border-box; user-select: none; }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--neon-green);
            font-family: var(--font-ui);
            height: 100vh;
            overflow: hidden; /* منع السكرول ليعمل كنظام تشغيل */
            display: grid;
            grid-template-rows: 60px 1fr 30px;
            background-image: radial-gradient(circle at center, #111 0%, #000 100%);
        }

        /* --- مؤثرات الشاشة (CRT & Scanlines) --- */
        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 999;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* --- Header --- */
        header {
            border-bottom: 1px solid var(--text-dim);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            background: rgba(0,0,0,0.9);
            z-index: 10;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            letter-spacing: 2px;
            text-shadow: 0 0 10px var(--neon-green);
            animation: glitch 3s infinite;
        }
        .logo span { color: var(--neon-blue); }

        .system-stats {
            font-size: 0.8rem;
            color: var(--neon-blue);
            display: flex;
            gap: 20px;
        }

        /* --- Layout Grid --- */
        .main-interface {
            display: grid;
            grid-template-columns: 250px 1fr 300px;
            gap: 5px;
            padding: 10px;
            height: 100%;
        }

        /* --- Sidebar Navigation --- */
        .sidebar {
            border: 1px solid var(--border-color);
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            padding: 15px 20px;
            border-bottom: 1px solid #111;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #666;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(0, 255, 0, 0.1);
            color: var(--neon-green);
            border-left: 3px solid var(--neon-green);
        }

        /* --- Center Content (Viewport) --- */
        .viewport {
            border: 1px solid var(--border-color);
            background: rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Threat Map Canvas */
        #threatMap {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            opacity: 0.6;
        }

        .content-overlay {
            z-index: 1;
            padding: 20px;
            height: 100%;
            overflow-y: auto;
            display: none; /* مخفي افتراضياً */
            background: rgba(0,0,0,0.9);
        }
        .content-overlay.active { display: block; }

        /* --- Right Panel (Intel & Terminal) --- */
        .intel-panel {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 5px;
        }

        .panel-box {
            border: 1px solid var(--border-color);
            background: var(--panel-bg);
            padding: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .panel-header {
            border-bottom: 1px solid var(--text-dim);
            padding-bottom: 5px;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--neon-blue);
            text-transform: uppercase;
        }

        /* --- Terminal Styling --- */
        #terminal-output {
            flex: 1;
            font-family: var(--font-code);
            font-size: 0.8rem;
            color: #ccc;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .cmd-line { display: flex; margin-top: 5px; }
        .prompt { color: var(--neon-green); margin-right: 5px; }
        #cmd-input {
            background: transparent;
            border: none;
            color: #fff;
            font-family: var(--font-code);
            flex: 1;
            outline: none;
        }

        /* --- Live Feed List --- */
        .log-entry {
            font-size: 0.75rem;
            margin-bottom: 5px;
            border-left: 2px solid var(--neon-red);
            padding-left: 5px;
            opacity: 0.8;
        }

        /* --- Roadmaps Tree CSS --- */
        .tree ul { padding-left: 20px; border-left: 1px dashed #333; }
        .tree li { margin: 10px 0; list-style: none; position: relative; }
        .tree li::before {
            content: ""; position: absolute; top: 10px; left: -20px;
            width: 15px; height: 1px; background: #333;
        }
        .node {
            background: #111; border: 1px solid var(--neon-green);
            padding: 5px 10px; display: inline-block; cursor: pointer;
        }
        .node:hover { background: var(--neon-green); color: black; }

        /* --- Animations --- */
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--text-dim); }

        /* Footer */
        footer {
            background: #000;
            border-top: 1px solid #333;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 10px;
            font-size: 0.7rem;
            color: #555;
        }

        /* موبايل */
        @media (max-width: 768px) {
            .main-interface { grid-template-columns: 1fr; grid-template-rows: auto 1fr auto; }
            .sidebar { display: none; } /* يمكن إضافة زر قائمة لاحقاً */
            .intel-panel { display: none; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">JKA<span>5</span>_OS <i class="fas fa-shield-alt"></i></div>
        <div class="system-stats">
            <span><i class="fas fa-microchip"></i> CPU: 12%</span>
            <span><i class="fas fa-memory"></i> RAM: 4.2GB</span>
            <span><i class="fas fa-network-wired"></i> NET: SECURE</span>
            <span style="color:var(--neon-red)">DEFCON: 4</span>
        </div>
    </header>

    <div class="main-interface">
        <aside class="sidebar">
            <div class="nav-item active" onclick="switchTab('dashboard')"><i class="fas fa-globe"></i> THREAT MAP</div>
            <div class="nav-item" onclick="switchTab('roadmaps')"><i class="fas fa-sitemap"></i> ROADMAPS</div>
            <div class="nav-item" onclick="switchTab('labs')"><i class="fas fa-flask"></i> JKA5 LABS / CTF</div>
            <div class="nav-item" onclick="switchTab('tools')"><i class="fas fa-tools"></i> ARSENAL</div>
            <div class="nav-item" onclick="switchTab('intel')"><i class="fas fa-newspaper"></i> INTEL & NEWS</div>
            <div style="margin-top: auto; border-top:1px solid #333;" class="nav-item">
                <i class="fas fa-user-secret"></i> PROFILE: GUEST
            </div>
        </aside>

        <main class="viewport">
            <canvas id="threatMap"></canvas>
            
            <div id="dashboard" class="content-overlay active" style="background: transparent; pointer-events: none;">
                <div style="position: absolute; bottom: 20px; left: 20px; pointer-events: auto;">
                    <h1 style="font-size: 3rem; text-shadow: 0 0 20px black;">GLOBAL THREAT INTELLIGENCE</h1>
                    <p style="background: black; display: inline-block; padding: 5px;">LIVE ATTACK FEED INITIALIZED...</p>
                    <br><br>
                    <button onclick="switchTab('roadmaps')" style="background: var(--neon-green); color: black; border: none; padding: 10px 30px; font-family: var(--font-ui); font-weight: bold; cursor: pointer; font-size: 1.2rem;">START HACKING</button>
                </div>
            </div>

            <div id="roadmaps" class="content-overlay">
                <h2 style="color: var(--neon-blue)">:: CLASSIFIED LEARNING PATHS</h2>
                <div class="tree" style="margin-top: 30px;">
                    <ul>
                        <li>
                            <span class="node">LEVEL 0: PRE-SECURITY</span>
                            <ul>
                                <li><span class="node">Linux Fundamentals</span></li>
                                <li><span class="node">Network Basics (OSI Model)</span></li>
                            </ul>
                        </li>
                        <li>
                            <span class="node">LEVEL 1: WEB PENTESTING</span>
                            <ul>
                                <li><span class="node">OWASP Top 10</span></li>
                                <li><span class="node">Burp Suite Mastery</span></li>
                            </ul>
                        </li>
                        <li>
                            <span class="node">LEVEL 2: RED TEAM OPERATOR</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="labs" class="content-overlay">
                <h2 style="color: var(--neon-red)">:: ACTIVE CTF CHALLENGES</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div class="panel-box" style="border-color: var(--neon-green);">
                        <h3 style="margin:0">Mr. Robot</h3>
                        <p style="font-size: 0.8rem; color: #888;">Difficulty: Easy</p>
                        <button style="width:100%; margin-top:10px; background:transparent; border:1px solid var(--neon-green); color:var(--neon-green); cursor:pointer;">DEPLOY MACHINE</button>
                    </div>
                    <div class="panel-box">
                        <h3 style="margin:0">Black Box 1</h3>
                        <p style="font-size: 0.8rem; color: #888;">Difficulty: Insane</p>
                        <button style="width:100%; margin-top:10px; background:#333; border:none; color:#666; cursor:not-allowed;">LOCKED</button>
                    </div>
                </div>
            </div>

            <div id="tools" class="content-overlay">
                <h2>:: TOOL ARSENAL</h2>
                <p>مكتبة الأدوات المتاحة للتحميل.</p>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 10px; border-bottom: 1px solid #333; display: flex; justify-content: space-between;">
                        <span><i class="fas fa-terminal"></i> Nmap Script Engine</span>
                        <span style="color: var(--neon-blue)">[DOWNLOAD]</span>
                    </li>
                    <li style="padding: 10px; border-bottom: 1px solid #333; display: flex; justify-content: space-between;">
                        <span><i class="fas fa-bug"></i> Metasploit Framework</span>
                        <span style="color: var(--neon-blue)">[DOWNLOAD]</span>
                    </li>
                </ul>
            </div>
        </main>

        <aside class="intel-panel">
            <div class="panel-box">
                <div class="panel-header">>> TERMINAL EMULATOR (BASH)</div>
                <div id="terminal-output">
                    <div>JKA5 Linux [Version 5.0.1]</div>
                    <div>Type 'help' for commands.</div>
                    <br>
                </div>
                <div class="cmd-line">
                    <span class="prompt">root@jka5:~#</span>
                    <input type="text" id="cmd-input" autocomplete="off">
                </div>
            </div>

            <div class="panel-box">
                <div class="panel-header">>> LIVE THREAT LOGS</div>
                <div id="logs-container" style="overflow: hidden;">
                    </div>
            </div>
        </aside>
    </div>

    <footer>
        <div>SESSION ID: XJ-921-AA &nbsp;|&nbsp; ENCRYPTED VIA TLS 1.3 &nbsp;|&nbsp; <span style="color: var(--neon-green)">CONNECTED</span></div>
    </footer>

    <script>
        // --- 1. نظام التبويب (Tabs System) ---
        function switchTab(tabId) {
            // إخفاء كل الأقسام
            document.querySelectorAll('.content-overlay').forEach(el => {
                el.classList.remove('active');
            });
            // إظهار القسم المختار
            document.getElementById(tabId).classList.add('active');
            
            // تحديث القائمة الجانبية
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // إذا اخترنا Dashboard نظهر الخريطة بوضوح، غير ذلك نغمقها
            if(tabId === 'dashboard') {
                document.getElementById('threatMap').style.opacity = '0.6';
                document.getElementById('dashboard').style.pointerEvents = 'none'; // السماح بالنقر في الخلفية
                document.querySelector('#dashboard button').style.pointerEvents = 'auto';
            } else {
                document.getElementById('threatMap').style.opacity = '0.1';
                document.getElementById(tabId).style.background = 'rgba(5,5,5,0.95)'; // خلفية داكنة للقراءة
            }
        }

        // --- 2. محاكي التيرمينال (Terminal Emulator) ---
        const cmdInput = document.getElementById('cmd-input');
        const termOutput = document.getElementById('terminal-output');

        cmdInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                const command = this.value.toLowerCase();
                let response = "";
                
                // طباعة الأمر
                termOutput.innerHTML += `<div><span class="prompt">root@jka5:~#</span> ${this.value}</div>`;

                // منطق الأوامر
                switch(command) {
                    case 'help':
                        response = "Available commands: help, clear, whoami, date, scan, hack";
                        break;
                    case 'whoami':
                        response = "guest_user (uid=1000)";
                        break;
                    case 'date':
                        response = new Date().toString();
                        break;
                    case 'clear':
                        termOutput.innerHTML = "";
                        break;
                    case 'scan':
                        response = "Scanning target... [██████████] 100% <br> > Port 80: OPEN <br> > Port 22: OPEN <br> > Port 443: OPEN";
                        break;
                    case 'hack':
                        response = "<span style='color:red'>ACCESS DENIED.</span> Authorization required.";
                        break;
                    default:
                        if(command !== 'clear') response = `Command not found: ${command}`;
                }

                if(command !== 'clear') {
                    termOutput.innerHTML += `<div style="color:#ccc; margin-bottom:10px">${response}</div>`;
                }
                
                this.value = '';
                termOutput.scrollTop = termOutput.scrollHeight;
            }
        });

        // --- 3. خريطة التهديدات (Canvas Animation) ---
        const canvas = document.getElementById('threatMap');
        const ctx = canvas.getContext('2d');
        
        function resizeCanvas() {
            canvas.width = document.querySelector('.viewport').offsetWidth;
            canvas.height = document.querySelector('.viewport').offsetHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // إنشاء نقاط عشوائية (دول)
        const nodes = [];
        for(let i=0; i<15; i++) {
            nodes.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                r: Math.random() * 3 + 2
            });
        }

        const attacks = []; // مصفوفة الهجمات الحالية

        function draw() {
            // تأثير التلاشي للذيل
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // رسم العقد (Nodes)
            ctx.fillStyle = '#00ff41';
            nodes.forEach(node => {
                ctx.beginPath();
                ctx.arc(node.x, node.y, node.r, 0, Math.PI * 2);
                ctx.fill();
            });

            // إنشاء هجمة جديدة عشوائياً
            if(Math.random() > 0.95) {
                const source = nodes[Math.floor(Math.random() * nodes.length)];
                const target = nodes[Math.floor(Math.random() * nodes.length)];
                attacks.push({
                    sx: source.x, sy: source.y,
                    tx: target.x, ty: target.y,
                    x: source.x, y: source.y, // الموقع الحالي
                    speed: Math.random() * 0.05 + 0.01,
                    progress: 0,
                    color: Math.random() > 0.5 ? '#00d8ff' : '#ff003c'
                });
                
                // إضافة للسجل (Logs)
                addLog(`Attack detected: ${source.x.toFixed(0)} -> ${target.x.toFixed(0)} [${Math.random() > 0.5 ? 'DDoS' : 'SQLi'}]`);
            }

            // رسم وتحريك الهجمات
            for(let i = 0; i < attacks.length; i++) {
                const atk = attacks[i];
                atk.progress += atk.speed;
                
                // حساب الموقع الحالي
                const dx = atk.tx - atk.sx;
                const dy = atk.ty - atk.sy;
                
                atk.x = atk.sx + dx * atk.progress;
                atk.y = atk.sy + dy * atk.progress;

                // رسم الخط
                ctx.strokeStyle = atk.color;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(atk.sx, atk.sy);
                ctx.lineTo(atk.x, atk.y);
                ctx.stroke();

                // رسم رأس السهم
                ctx.fillStyle = '#fff';
                ctx.fillRect(atk.x, atk.y, 2, 2);

                // إزالة الهجمة عند الوصول
                if(atk.progress >= 1) {
                    attacks.splice(i, 1);
                    i--;
                }
            }

            requestAnimationFrame(draw);
        }
        draw();

        // --- 4. سجل الأحداث (Logs System) ---
        const logContainer = document.getElementById('logs-container');
        function addLog(msg) {
            const div = document.createElement('div');
            div.className = 'log-entry';
            const time = new Date().toLocaleTimeString();
            div.innerHTML = `<span style="color:#666">[${time}]</span> ${msg}`;
            logContainer.prepend(div);
            if(logContainer.children.length > 10) {
                logContainer.removeChild(logContainer.lastChild);
            }
        }

        // رسائل وهمية عند البدء
        setInterval(() => {
            const msgs = [
                "Port 22 brute force attempt blocked",
                "Malware signature updated: Trojan.Win32",
                "New connection from 192.168.1.X",
                "System Integrity Check: OK"
            ];
            addLog(msgs[Math.floor(Math.random() * msgs.length)]);
        }, 3000);

    </script>
</body>
</html>
