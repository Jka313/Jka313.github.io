<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JKA5 | GLOBAL EYE v15.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg: #020202;
            --win-bg: rgba(12, 14, 12, 0.95);
            --neon-green: #00ff41; 
            --neon-gold: #ffd700;
            --alert: #ff003c;
            --font-code: 'Fira Code', monospace;
            --font-ui: 'Cairo', sans-serif;
        }

        * { box-sizing: border-box; user-select: none; outline: none; }
        body { margin: 0; overflow: hidden; background: #000; font-family: var(--font-code); color: var(--neon-green); }

        /* EFFECTS */
        .scanlines { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px); pointer-events: none; z-index: 9999; opacity: 0.2; }

        /* DESKTOP */
        #desktop { position: relative; width: 100vw; height: 100vh; background: radial-gradient(circle at center, #050a05 0%, #000 100%); overflow: hidden; }
        #matrixCanvas { position: absolute; top: 0; left: 0; opacity: 0.15; z-index: 0; pointer-events: none; }

        /* TASKBAR */
        .taskbar {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 50px;
            background: rgba(10,10,10,0.95); border-top: 1px solid #333;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px; z-index: 200;
        }

        /* ICONS */
        .desktop-icons { position: absolute; top: 40px; left: 40px; display: flex; flex-direction: column; gap: 30px; z-index: 10; }
        .icon { width: 90px; text-align: center; cursor: pointer; opacity: 0.8; transition: 0.2s; }
        .icon:hover { opacity: 1; transform: scale(1.1); text-shadow: 0 0 15px var(--neon-green); }
        .icon i { font-size: 32px; margin-bottom: 8px; display: block; color: #e0e0e0; }
        .icon span { background: rgba(0,0,0,0.7); padding: 3px 6px; border-radius: 4px; font-size: 11px; font-family: var(--font-ui); }

        /* WINDOWS */
        .window {
            position: absolute; background: var(--win-bg); border: 1px solid var(--neon-green);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.8); display: none; flex-direction: column;
            z-index: 50; border-radius: 5px; overflow: hidden; backdrop-filter: blur(10px);
            animation: openWin 0.3s;
        }
        @keyframes openWin { from{opacity:0; transform:scale(0.9)} to{opacity:1; transform:scale(1)} }

        .win-header {
            padding: 10px 15px; background: rgba(255,255,255,0.05); border-bottom: 1px solid #333;
            cursor: grab; display: flex; justify-content: space-between; align-items: center;
        }
        .win-title { font-size: 12px; font-weight: bold; text-transform: uppercase; display: flex; align-items: center; gap: 8px; color: #fff; }
        .win-controls span { cursor: pointer; margin-left: 10px; font-size: 14px; color: #666; }
        .win-controls span:hover { color: var(--alert); }
        .win-body { flex: 1; overflow: hidden; position: relative; color: #ccc; font-size: 13px; display: flex; flex-direction: column; }

        /* CRYPTO APP */
        .crypto-grid { padding: 20px; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
        .crypto-card { background: rgba(0,0,0,0.5); border: 1px solid #333; padding: 15px; text-align: center; }
        .crypto-name { color: #fff; font-weight: bold; margin-bottom: 5px; display: block; }
        .crypto-price { font-size: 18px; color: var(--neon-gold); display: block; margin-bottom: 5px; }
        .crypto-change { font-size: 12px; }
        .up { color: var(--neon-green); } .down { color: var(--alert); }

        /* TARGET PROFILER APP */
        .profile-card { padding: 20px; display: flex; gap: 20px; align-items: center; }
        .profile-img { width: 100px; height: 100px; border: 2px solid var(--alert); border-radius: 5px; }
        .profile-info div { margin-bottom: 5px; font-family: monospace; }
        .label { color: #666; width: 80px; display: inline-block; }
        .val { color: #fff; }
        .pass-leaked { color: var(--alert); background: rgba(255,0,0,0.1); padding: 2px; }

        /* WEATHER APP */
        .weather-box { padding: 20px; text-align: center; }
        .temp-large { font-size: 40px; color: #fff; }
        .weather-meta { display: flex; justify-content: center; gap: 20px; margin-top: 10px; color: #aaa; }

        /* TERMINAL */
        #term-content { padding: 15px; height: 100%; overflow-y: auto; font-family: var(--font-code); }
        .prompt { color: var(--neon-gold); margin-right: 5px; }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #333; }
    </style>
</head>
<body>
    <div class="scanlines"></div>

    <div id="desktop">
        <canvas id="matrixCanvas"></canvas>

        <div class="desktop-icons">
            <div class="icon" onclick="openWindow('crypto')">
                <i class="fab fa-bitcoin" style="color:var(--neon-gold)"></i>
                <span>Dark Market</span>
            </div>
            <div class="icon" onclick="openWindow('target')">
                <i class="fas fa-user-secret" style="color:var(--alert)"></i>
                <span>Target Profiler</span>
            </div>
            <div class="icon" onclick="openWindow('weather')">
                <i class="fas fa-satellite" style="color:#fff"></i>
                <span>Sat-Weather</span>
            </div>
            <div class="icon" onclick="openWindow('term')">
                <i class="fas fa-terminal"></i>
                <span>Terminal</span>
            </div>
        </div>

        <div id="win-crypto" class="window" style="top: 50px; left: 250px; width: 600px; height: 300px;">
            <div class="win-header" onmousedown="dragWindow(this.parentElement, event)">
                <div class="win-title"><i class="fab fa-bitcoin"></i> LIVE CRYPTO PRICES</div>
                <div class="win-controls"><span onclick="fetchCrypto()"><i class="fas fa-sync"></i></span><span onclick="closeWindow('win-crypto')">✖</span></div>
            </div>
            <div class="win-body" id="crypto-container">
                <div style="text-align:center; padding-top:50px;">CONNECTING TO BLOCKCHAIN...</div>
            </div>
        </div>

        <div id="win-target" class="window" style="top: 100px; left: 300px; width: 550px; height: 300px;">
            <div class="win-header" onmousedown="dragWindow(this.parentElement, event)">
                <div class="win-title"><i class="fas fa-id-card"></i> TARGET DOSSIER</div>
                <div class="win-controls"><span onclick="fetchTarget()"><i class="fas fa-forward"></i> NEXT</span><span onclick="closeWindow('win-target')">✖</span></div>
            </div>
            <div class="win-body" id="target-container">
                <div style="text-align:center; padding-top:50px;">SEARCHING DATABASE...</div>
            </div>
        </div>

        <div id="win-weather" class="window" style="top: 150px; left: 350px; width: 400px; height: 250px;">
            <div class="win-header" onmousedown="dragWindow(this.parentElement, event)">
                <div class="win-title"><i class="fas fa-cloud"></i> BAGHDAD HQ WEATHER</div>
                <div class="win-controls"><span onclick="closeWindow('win-weather')">✖</span></div>
            </div>
            <div class="win-body" id="weather-container">
                <div style="text-align:center; padding-top:50px;">ALIGNING SATELLITE...</div>
            </div>
        </div>

        <div id="win-term" class="window" style="top: 200px; left: 200px; width: 600px; height: 350px;">
            <div class="win-header" onmousedown="dragWindow(this.parentElement, event)">
                <div class="win-title">ROOT TERMINAL</div>
                <div class="win-controls"><span onclick="closeWindow('win-term')">✖</span></div>
            </div>
            <div class="win-body" id="term-content">
                <div>JKA5 Global Eye v15.0</div>
                <div>All systems operational.</div>
                <div id="term-log"></div>
                <br>
                <div style="display:flex"><span class="prompt">root@jka5:~#</span><input type="text" style="background:transparent; border:none; color:#fff; width:100%; font-family:inherit;" onkeypress="handleCmd(event)"></div>
            </div>
        </div>

        <div class="taskbar">
            <div style="display:flex; align-items:center; gap:10px;">
                <i class="fas fa-circle" style="color:var(--neon-green); font-size:10px; animation:blink 1s infinite;"></i> ONLINE
            </div>
            <div style="font-size:12px; color:#aaa;" id="clock">00:00:00</div>
        </div>
    </div>

    <script>
        // ================= INIT =================
        window.onload = function() {
            startMatrix();
            updateClock();
            // Auto Fetch on Load
            setTimeout(() => {
                openWindow('crypto'); fetchCrypto();
                openWindow('target'); fetchTarget();
                openWindow('weather'); fetchWeather();
            }, 500);
        };

        function updateClock() {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            setTimeout(updateClock, 1000);
        }

        // ================= 1. CRYPTO API (CoinGecko) =================
        async function fetchCrypto() {
            const container = document.getElementById('crypto-container');
            container.innerHTML = '<div style="text-align:center; padding:50px;">FETCHING DATA...</div>';
            
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,monero&vs_currencies=usd&include_24hr_change=true');
                const data = await res.json();
                
                const coins = [
                    {id: 'bitcoin', name: 'BITCOIN', icon: 'fa-bitcoin'},
                    {id: 'ethereum', name: 'ETHEREUM', icon: 'fa-ethereum'},
                    {id: 'monero', name: 'MONERO (XMR)', icon: 'fa-mask'}
                ];

                let html = '<div class="crypto-grid">';
                coins.forEach(coin => {
                    const info = data[coin.id];
                    const change = info.usd_24h_change.toFixed(2);
                    const color = change >= 0 ? 'up' : 'down';
                    const arrow = change >= 0 ? '▲' : '▼';
                    
                    html += `
                        <div class="crypto-card">
                            <i class="fab ${coin.icon}" style="font-size:24px; color:#888;"></i>
                            <span class="crypto-name">${coin.name}</span>
                            <span class="crypto-price">$${info.usd}</span>
                            <span class="crypto-change ${color}">${arrow} ${change}%</span>
                        </div>
                    `;
                });
                html += '</div>';
                container.innerHTML = html;
                logToTerm("Crypto market data updated.");
            } catch(e) {
                container.innerHTML = '<div style="color:red; text-align:center; padding:20px;">API CONNECTION FAILED</div>';
            }
        }

        // ================= 2. RANDOM USER API (Target Profiler) =================
        async function fetchTarget() {
            const container = document.getElementById('target-container');
            container.innerHTML = '<div style="text-align:center; padding:50px;">GENERATING PROFILE...</div>';

            try {
                const res = await fetch('https://randomuser.me/api/');
                const data = await res.json();
                const user = data.results[0];
                
                container.innerHTML = `
                    <div class="profile-card">
                        <img src="${user.picture.large}" class="profile-img">
                        <div class="profile-info">
                            <div><span class="label">NAME:</span> <span class="val">${user.name.first} ${user.name.last}</span></div>
                            <div><span class="label">LOC:</span> <span class="val">${user.location.city}, ${user.location.country}</span></div>
                            <div><span class="label">EMAIL:</span> <span class="val">${user.email}</span></div>
                            <div><span class="label">USER:</span> <span class="val">${user.login.username}</span></div>
                            <div><span class="label">PASS:</span> <span class="pass-leaked">${user.login.password}</span></div>
                            <div style="margin-top:10px; font-size:10px; color:var(--alert);">[!] CREDENTIALS LEAKED IN DATABASE</div>
                        </div>
                    </div>
                `;
                logToTerm(`Target profile generated: ${user.login.username}`);
            } catch(e) { container.innerHTML = "Error generating profile."; }
        }

        // ================= 3. WEATHER API (Open-Meteo) =================
        async function fetchWeather() {
            const container = document.getElementById('weather-container');
            // Coordinates for Baghdad
            const lat = 33.3128;
            const long = 44.3615;

            try {
                const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${long}&current_weather=true`);
                const data = await res.json();
                const w = data.current_weather;
                
                container.innerHTML = `
                    <div class="weather-box">
                        <div style="font-size:14px; color:#888;">CURRENT CONDITIONS</div>
                        <div class="temp-large">${w.temperature}°C</div>
                        <div class="weather-meta">
                            <span><i class="fas fa-wind"></i> ${w.windspeed} km/h</span>
                            <span><i class="fas fa-compass"></i> DIR: ${w.winddirection}</span>
                        </div>
                        <div style="margin-top:20px; font-size:11px; color:var(--neon-green);">SATELLITE TELEMETRY ACTIVE</div>
                    </div>
                `;
                logToTerm("Weather telemetry received.");
            } catch(e) { container.innerHTML = "Weather Satellite Offline."; }
        }

        // ================= UTILS =================
        function logToTerm(msg) {
            const log = document.getElementById('term-log');
            log.innerHTML += `<div><span style="color:var(--neon-green)">[+]</span> ${msg}</div>`;
            document.getElementById('term-content').scrollTop = document.getElementById('term-content').scrollHeight;
        }

        function handleCmd(e) {
            if(e.key === 'Enter') {
                const val = e.target.value;
                logToTerm(val);
                if(val === 'refresh') { fetchCrypto(); fetchTarget(); fetchWeather(); }
                e.target.value = '';
            }
        }

        let zIndex = 100;
        function openWindow(id) {
            const win = document.getElementById('win-' + id);
            win.style.display = 'flex'; zIndex++; win.style.zIndex = zIndex;
        }
        function closeWindow(id) { document.getElementById(id).style.display = 'none'; }
        function dragWindow(elmnt, e) {
            e.preventDefault(); let pos3=e.clientX, pos4=e.clientY; zIndex++; elmnt.style.zIndex = zIndex;
            document.onmouseup = closeDragElement;
            document.onmousemove = (e) => {
                e.preventDefault(); let pos1=pos3-e.clientX, pos2=pos4-e.clientY; pos3=e.clientX; pos4=e.clientY;
                elmnt.style.top=(elmnt.offsetTop-pos2)+"px"; elmnt.style.left=(elmnt.offsetLeft-pos1)+"px";
            };
            function closeDragElement() { document.onmouseup=null; document.onmousemove=null; }
        }

        // Matrix
        function startMatrix() {
            const c = document.getElementById("matrixCanvas"); const ctx = c.getContext("2d");
            c.width = window.innerWidth; c.height = window.innerHeight;
            const chars = "01"; const drops = Array(Math.floor(c.width/20)).fill(1);
            setInterval(()=>{
                ctx.fillStyle="rgba(0,0,0,0.05)"; ctx.fillRect(0,0,c.width,c.height);
                ctx.fillStyle="#00ff41"; ctx.font="15px monospace";
                drops.forEach((y,i)=>{ ctx.fillText(chars[Math.floor(Math.random()*2)],i*20,y*20); if(y*20>c.height && Math.random()>0.98) drops[i]=0; drops[i]++; });
            }, 50);
        }
    </script>
</body>
</html>
